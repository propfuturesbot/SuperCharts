
> trading-backend@1.0.0 start
> node simple-backend.js

âœ… Found existing contracts file with 57 contracts
(node:85667) Warning: Accessing non-existent property 'lookupContractProductId' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
ðŸš€ Backend running on http://localhost:9025
ðŸ“„ Contracts cached in: /Users/tejasvihegde/Documents/PropAutomation/SuperCharts/SuperCharts/trading-backend/tradableContracts.json
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing request with no/null origin
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[AUTH] Saved authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing origin: http://localhost:4001
[AUTH] Saved authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[CORS] Allowing request with no/null origin
[INFO] Fetching trading account info for: TFDXAP_508PA89 (ID: 103075)
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[INFO] Fetching positions for account: TFDXAP_508PA89 (ID: 103075)
[INFO] Retrieved trading account info for TFDXAP_508PA89
[INFO] Retrieved 1 positions for TFDXAP_508PA89
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[VALIDATION] Checking trading time restrictions at 20:26 GMT
[DEBUG] Current GMT time: 2026
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[AUTH] Saved authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing origin: http://localhost:4001
[AUTH] Saved authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[INFO] Fetching trading account info for: TFDXAP_508PA89 (ID: 103075)
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[INFO] Fetching positions for account: TFDXAP_508PA89 (ID: 103075)
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[INFO] Retrieved 1 positions for TFDXAP_508PA89
[INFO] Retrieved trading account info for TFDXAP_508PA89
[CORS] Allowing request with no/null origin
[VALIDATION] Checking trading time restrictions at 20:26 GMT
[DEBUG] Current GMT time: 2026
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing request with no/null origin
[VALIDATION] Checking trading time restrictions at 20:27 GMT
[DEBUG] Current GMT time: 2027
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing request with no/null origin
[INFO] Close existing orders flag is set to true
[VALIDATION] Checking trading time restrictions at 20:27 GMT
[DEBUG] Current GMT time: 2027
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[INFO] Placing bracket order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, action=BUY, stopLoss=20, takeProfit=20, quantity=1, closeExisting=true
[INFO] Placing bracket order: accountName=TFDXAP_508PA89, symbol=MNQ, orderType=BUY, quantity=1, stopLossPoints=20, takeProfitPoints=20
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[AUTO-CLOSE] Opposite direction detected: SHORT â†’ BUY
[AUTO-CLOSE] Closing 1 contracts before reversing position
[INFO] Closing all positions: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Close positions successful
[AUTO-CLOSE] Successfully closed SHORT position
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Placing market order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, orderType=BUY, quantity=1
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Sending order request to https://userapi.thefuturesdesk.projectx.com/Order with payload: {
  accountId: 103075,
  symbolId: 'F.US.MNQ',
  type: 2,
  limitPrice: null,
  stopPrice: null,
  trailDistance: null,
  positionSize: 1,
  customTag: 'fwol18xrzmgbapf4j'
}
[INFO] Market order placed successfully: orderId=4799845
[INFO] Market order placed successfully, order ID: 4799845
[CORS] Allowing request with no/null origin
[INFO] Retrieved accountId=103075
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Polling for position fill...
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[DEBUG] Requesting positions from URL: https://userapi.thefuturesdesk.projectx.com/Position/all/user/20296
[DEBUG] Response status code for positions: 200
[DEBUG] Received 1 positions
[DEBUG] Found position: accountId=103075, symbolId=F.US.MNQ, averagePrice=24979, positionId=978661
[INFO] Position filled at price: 24979, position ID: 978661
[INFO] Order filled at price 24979, positionId=978661
[INFO] Calculated stop loss price: 24959, take profit price: 24999
[INFO] Sending editStopLoss request to https://userapi.thefuturesdesk.projectx.com/Order/editStopLossAccount
[INFO] Stop loss and take profit set successfully for position ID: 978661
[CORS] Allowing request with no/null origin
[INFO] Close existing orders flag is set to true
[VALIDATION] Checking trading time restrictions at 20:27 GMT
[DEBUG] Current GMT time: 2027
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[INFO] Placing bracket order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, action=BUY, stopLoss=20, takeProfit=20, quantity=1, closeExisting=true
[INFO] Placing bracket order: accountName=TFDXAP_508PA89, symbol=MNQ, orderType=BUY, quantity=1, stopLossPoints=20, takeProfitPoints=20
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[MANUAL-CLOSE] closeExistingOrders flag set - Closing LONG position
[INFO] Closing all positions: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Close positions successful
[MANUAL-CLOSE] Successfully closed position before re-entry
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Placing market order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, orderType=BUY, quantity=1
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Sending order request to https://userapi.thefuturesdesk.projectx.com/Order with payload: {
  accountId: 103075,
  symbolId: 'F.US.MNQ',
  type: 2,
  limitPrice: null,
  stopPrice: null,
  trailDistance: null,
  positionSize: 1,
  customTag: 'eicvvjhrlmgbapv13'
}
[INFO] Market order placed successfully: orderId=4799849
[INFO] Market order placed successfully, order ID: 4799849
[CORS] Allowing request with no/null origin
[INFO] Retrieved accountId=103075
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Polling for position fill...
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[DEBUG] Requesting positions from URL: https://userapi.thefuturesdesk.projectx.com/Position/all/user/20296
[DEBUG] Response status code for positions: 200
[DEBUG] Received 1 positions
[DEBUG] Found position: accountId=103075, symbolId=F.US.MNQ, averagePrice=24977.25, positionId=978662
[INFO] Position filled at price: 24977.25, position ID: 978662
[INFO] Order filled at price 24977.25, positionId=978662
[INFO] Calculated stop loss price: 24957.25, take profit price: 24997.25
[INFO] Sending editStopLoss request to https://userapi.thefuturesdesk.projectx.com/Order/editStopLossAccount
[INFO] Stop loss and take profit set successfully for position ID: 978662
[CORS] Allowing request with no/null origin
[INFO] Close existing orders flag is set to true
[VALIDATION] Checking trading time restrictions at 20:27 GMT
[DEBUG] Current GMT time: 2027
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[INFO] Placing bracket order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, action=SELL, stopLoss=20, takeProfit=20, quantity=1, closeExisting=true
[INFO] Placing bracket order: accountName=TFDXAP_508PA89, symbol=MNQ, orderType=SELL, quantity=1, stopLossPoints=20, takeProfitPoints=20
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[AUTO-CLOSE] Opposite direction detected: LONG â†’ SELL
[AUTO-CLOSE] Closing 1 contracts before reversing position
[INFO] Closing all positions: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Close positions successful
[AUTO-CLOSE] Successfully closed LONG position
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Placing market order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, orderType=SELL, quantity=1
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Sending order request to https://userapi.thefuturesdesk.projectx.com/Order with payload: {
  accountId: 103075,
  symbolId: 'F.US.MNQ',
  type: 2,
  limitPrice: null,
  stopPrice: null,
  trailDistance: null,
  positionSize: -1,
  customTag: 'av53zi8i1mgbaq16z'
}
[INFO] Market order placed successfully: orderId=4799853
[INFO] Market order placed successfully, order ID: 4799853
[CORS] Allowing request with no/null origin
[INFO] Retrieved accountId=103075
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Polling for position fill...
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[DEBUG] Requesting positions from URL: https://userapi.thefuturesdesk.projectx.com/Position/all/user/20296
[DEBUG] Response status code for positions: 200
[DEBUG] Received 1 positions
[DEBUG] Found position: accountId=103075, symbolId=F.US.MNQ, averagePrice=24977, positionId=978663
[INFO] Position filled at price: 24977, position ID: 978663
[INFO] Order filled at price 24977, positionId=978663
[INFO] Calculated stop loss price: 24997, take profit price: 24957
[INFO] Sending editStopLoss request to https://userapi.thefuturesdesk.projectx.com/Order/editStopLossAccount
[INFO] Stop loss and take profit set successfully for position ID: 978663
[CORS] Allowing request with no/null origin
[VALIDATION] Checking trading time restrictions at 20:28 GMT
[DEBUG] Current GMT time: 2028
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing origin: http://localhost:4001
[CORS] Allowing origin: http://localhost:9025
[CORS] Allowing request with no/null origin
[INFO] Close existing orders flag is set to true
[VALIDATION] Checking trading time restrictions at 20:28 GMT
[DEBUG] Current GMT time: 2028
[DEBUG] Allowed sessions: []
[DEBUG] Restricted sessions: []
[DEBUG] Session-based trading is allowed
[VALIDATION] Trading is allowed
[AUTH] Loaded valid authentication for tejashegde@gmail.com@thefuturesdesk
[INFO] Placing bracket order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, action=SELL, stopLoss=20, takeProfit=20, quantity=1, closeExisting=true
[INFO] Placing bracket order: accountName=TFDXAP_508PA89, symbol=MNQ, orderType=SELL, quantity=1, stopLossPoints=20, takeProfitPoints=20
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[AUTO-CLOSE] Opposite direction detected: LONG â†’ SELL
[AUTO-CLOSE] Closing 1 contracts before reversing position
[INFO] Closing all positions: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Close positions successful
[AUTO-CLOSE] Successfully closed LONG position
[CORS] Allowing request with no/null origin
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Placing market order: provider=thefuturesdesk, accountName=TFDXAP_508PA89, symbol=MNQ, orderType=SELL, quantity=1
[CORS] Allowing request with no/null origin
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Sending order request to https://userapi.thefuturesdesk.projectx.com/Order with payload: {
  accountId: 103075,
  symbolId: 'F.US.MNQ',
  type: 2,
  limitPrice: null,
  stopPrice: null,
  trailDistance: null,
  positionSize: -1,
  customTag: '51ws6fc4pmgbaqnee'
}
[INFO] Market order placed successfully: orderId=4799859
[INFO] Market order placed successfully, order ID: 4799859
[CORS] Allowing request with no/null origin
[INFO] Retrieved accountId=103075
[CORS] Allowing request with no/null origin
[DEBUG] Extracted symbolId from backend: F.US.MNQ
[INFO] Polling for position fill...
[DEBUG] Getting user ID from URL: https://userapi.thefuturesdesk.projectx.com/User
[DEBUG] Response status code: 200
[DEBUG] User data received: {
  userName: 'tejashegde@gmail.com',
  email: 'tejashegde@gmail.com',
  userId: 20296,
  firstName: 'Tejasvi',
  lastName: 'Hegde',
  hasSignedAgreements: false,
  onboardingRequired: false,
  onboardingState: 5,
  createdAt: '2025-06-20T19:50:28.412446+00:00',
  roles: []
}
[DEBUG] Extracted user ID: 20296
[DEBUG] Requesting positions from URL: https://userapi.thefuturesdesk.projectx.com/Position/all/user/20296
[DEBUG] Response status code for positions: 200
[DEBUG] Received 1 positions
[DEBUG] Found position: accountId=103075, symbolId=F.US.MNQ, averagePrice=24977.5, positionId=978665
[INFO] Position filled at price: 24977.5, position ID: 978665
[INFO] Order filled at price 24977.5, positionId=978665
[INFO] Calculated stop loss price: 24997.5, take profit price: 24957.5
[INFO] Sending editStopLoss request to https://userapi.thefuturesdesk.projectx.com/Order/editStopLossAccount
[INFO] Stop loss and take profit set successfully for position ID: 978665
[CORS] Allowing origin: http://localhost:9025
